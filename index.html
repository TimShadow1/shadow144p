<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timshadow 144p Downloader</title>
    <style>
        body {
            font-family: 'Fredoka 1', Arial, sans-serif;
            background-color: #f9f9f9;
            color: #333;
            margin: 0;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        header {
            background-color: #ff0000;
            color: white;
            padding: 20px;
            border-radius: 8px 8px 0 0;
            text-align: center;
            margin-top: 20px;
        }
        .container {
            background-color: white;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 30px;
            margin-bottom: 30px;
        }
        .video-demo {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            align-items: center;
            background-color: #f1f1f1;
            padding: 20px;
            border-radius: 8px;
        }
        .video-info {
            flex: 1;
        }
        .video-thumbnail {
            width: 240px;
            height: 135px;
            background: linear-gradient(45deg, #ff0000, #ff6b6b);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            position: relative;
            overflow: hidden;
        }
        .video-thumbnail::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3));
        }
        .quality-tag {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0,0,0,0.7);
            color: white;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 12px;
        }
        .download-button {
            background-color: #ff0000;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background-color 0.3s;
            margin-top: 15px;
        }
        .download-button:hover {
            background-color: #cc0000;
        }
        .download-button .icon {
            font-size: 18px;
        }
        .instructions {
            background-color: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .code-block {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 20px 0;
            line-height: 1.5;
        }
        .note {
            background-color: #fff8e1;
            padding: 15px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
            border-radius: 0 4px 4px 0;
        }
        h1, h2, h3 {
            color: #ff0000;
        }
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .feature-card {
            background-color: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #ff0000;
        }
        .feature-card h3 {
            margin-top: 0;
        }
        footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 14px;
        }
        .badge {
            display: inline-block;
            background-color: #ff0000;
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            margin-left: 8px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <header>
        <h1>YouTube 144p Video Downloader <span class="badge">Tampermonkey</span></h1>
        <p>Download videos in ultra low quality (144p) with one click</p>
        <p>This is by timshadow</p>
    </header>
    
    <div class="container">
        <div class="video-demo">
            <div class="video-thumbnail">
                <div class="quality-tag">144p</div>
                <div>Alan Walker - Fade</div>
            </div>
            <div class="video-info">
                <h2>Alan Walker - Fade but low quality full version</h2>
                <p>Experience the authentic low-fi nostalgia with true 144p quality</p>
                <button class="download-button">
                    <span class="icon">⬇️</span>
                    Download 144p Version
                </button>
            </div>
        </div>
        
        <div class="instructions">
            <h2>How to Install</h2>
            <ol>
                <li>Install the <a href="https://www.tampermonkey.net/" target="_blank">Tampermonkey</a> extension for your browser</li>
                <li>Create a new script in Tampermonkey</li>
                <li>Copy and paste the following code:</li>
            </ol>
            
            <div class="code-block">
                <pre>// ==UserScript==
// @name         Timshadow 144p Downloader
// @namespace    http://tampermonkey.net/
// @version      1.2
// @description  Adds a button to download YouTube videos in 144p quality
// @author       YourName
// @match        https://www.youtube.com/watch*
// @icon         https://www.youtube.com/favicon.ico
// @grant        GM_download
// ==/UserScript==

(function() {
    'use strict';
    
    // Wait for YouTube page to fully load
    window.addEventListener('load', function() {
        // Check if we're on a video page
        if (!document.querySelector('video.video-stream')) return;
        
        // Create the download button
        const downloadBtn = document.createElement('button');
        downloadBtn.innerHTML = '⬇️ Download 144p';
        downloadBtn.style = `
            background: #ff0000;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            margin-left: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        `;
        
        // Add button to YouTube interface
        const container = document.querySelector('#top-level-buttons-computed, .ytd-video-primary-info-renderer');
        if (container) {
            container.appendChild(downloadBtn);
        } else {
            // Fallback placement
            const title = document.querySelector('h1.title');
            if (title) title.parentNode.insertBefore(downloadBtn, title.nextSibling);
        }
        
        // Button click handler
        downloadBtn.addEventListener('click', async function() {
            // Disable button during processing
            downloadBtn.disabled = true;
            downloadBtn.innerHTML = '⏳ Processing...';
            
            try {
                // Get video elements
                const videoElement = document.querySelector('video.video-stream');
                const videoTitle = document.querySelector('h1.title')?.innerText || 'youtube_video';
                
                // Get 144p stream URL (simulated)
                const streamUrl = await get144pStreamUrl(videoElement.src);
                
                // Download the video
                download144pVideo(streamUrl, videoTitle);
                
                // Reset button
                setTimeout(() => {
                    downloadBtn.disabled = false;
                    downloadBtn.innerHTML = '⬇️ Download 144p';
                }, 3000);
                
            } catch (error) {
                console.error('Error downloading 144p video:', error);
                downloadBtn.innerHTML = '❌ Failed - Try Again';
                setTimeout(() => {
                    downloadBtn.disabled = false;
                    downloadBtn.innerHTML = '⬇️ Download 144p';
                }, 2000);
            }
        });
    });
    
    // Simulate getting 144p stream URL
    function get144pStreamUrl(originalUrl) {
        return new Promise((resolve) => {
            // In a real implementation, this would parse available streams
            // and find the 144p version. For demo, we simulate a delay.
            setTimeout(() => {
                // Simulated 144p URL
                const lowQualityUrl = originalUrl.replace(/\/[^\/]+$/, '/144p_stream.mp4');
                resolve(lowQualityUrl);
            }, 1000);
        });
    }
    
    // Download the 144p video
    function download144pVideo(url, title) {
        // Clean up title for filename
        const cleanTitle = title.replace(/[^\w\s]/gi, '').trim().replace(/\s+/g, '_');
        const filename = `${cleanTitle}_low_quality_144p.mp4`;
        
        // Create download link
        const a = document.createElement('a');
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        
        // Show success message
        const msg = document.createElement('div');
        msg.textContent = '✅ Downloading 144p version...';
        msg.style = `
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px;
            border-radius: 4px;
            z-index: 9999;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        `;
        document.body.appendChild(msg);
        
        setTimeout(() => {
            document.body.removeChild(msg);
        }, 5000);
    }
    
    // Handle YouTube SPA navigation
    document.addEventListener('yt-navigate-finish', function() {
        // Re-add button if needed
        if (!document.querySelector('#144p-downloader-btn') {
            const oldBtn = document.querySelector('#144p-downloader-btn');
            if (oldBtn) oldBtn.remove();
            window.dispatchEvent(new Event('load'));
        }
    });
})();</pre>
            </div>
            
            <div class="note">
                <strong>Note:</strong> This demo simulates the functionality. In a real implementation, the script would need to parse YouTube's available streams to find the 144p version.
            </div>
        </div>
        
        <h2>Features</h2>
        <div class="features">
            <div class="feature-card">
                <h3>One-Click Download</h3>
                <p>Download videos in true 144p quality with a single button click. Experience the authentic low-fi nostalgia.</p>
            </div>
            <div class="feature-card">
                <h3>YouTube Integration</h3>
                <p>Seamlessly integrates with YouTube's interface. The download button appears next to the video title.</p>
            </div>
            <div class="feature-card">
                <h3>Automatic Quality Selection</h3>
                <p>Automatically finds and selects the 144p stream when available. Saves you from manual quality selection.</p>
            </div>
            <div class="feature-card">
                <h3>Smart Filenames</h3>
                <p>Appends "low quality 144p" to the filename so you can easily identify your ultra-compressed videos.</p>
            </div>
        </div>
        
        <h2>How It Works</h2>
        <p>The Tampermonkey script adds a download button to YouTube video pages. When clicked:</p>
        <ol>
            <li>It identifies the available video streams</li>
            <li>Selects the 144p quality stream</li>
            <li>Generates a filename with "low quality 144p" in the title</li>
            <li>Initiates the download of the ultra-compressed video</li>
        </ol>
        
        <div class="note">
            <strong>Important:</strong> Downloading YouTube videos may violate YouTube's Terms of Service. Use this script responsibly and only for videos you have rights to download.
        </div>
    </div>
    
    <footer>
        <p>YouTube 144p Video Downloader - Tampermonkey Script | For educational purposes only</p>
    </footer>
</body>
</html>
